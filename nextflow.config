process {
  withName: download_testdata_1k {
    container = 'sjroth1029/cellranger:6.1.2'
    cpus = 1
    memory = 500.MB
  }
  withName: download_testdata_5k {
    container = 'sjroth1029/cellranger:6.1.2'
    cpus = 1
    memory = 500.MB
  }
  withName: download_reference {
    container = 'sjroth1029/cellranger:6.1.2'
    cpus = 1
    memory = 500.MB
  }
  withName: download_barcodes {
    container = 'sjroth1029/cellranger:6.1.2'
    cpus = 1
    memory = 500.MB
  }
  withName: full_star_index {
    container = 'sjroth1029/star:2.7.10a'
    cpus = 16
    memory = 40.GB
  }
  withName: sparse_star_index {
    container = 'sjroth1029/star:2.7.10a'
    cpus = 16
    memory = 36.GB
  }
  withName: run_starsolo {
    container = 'sjroth1029/star:2.7.10a'
    cpus = 16
    memory = 36.GB
  }
  withName: cellranger_count {
    container = 'sjroth1029/cellranger:6.1.2'
    cpus = 16
    memory = 40.GB
  }
  withName: kallisto_reference {
    container = 'sjroth1029/kb-python:0.27.0'
    cpus = 1
    memory = 16.GB
  }
  withName: run_kb_count {
    container = 'sjroth1029/kb-python:0.27.0'
    cpus = 16
    memory = 12.GB
  }
}

docker {
  enabled = true
  sudo = true
}
